[TOC]

# 相关概念
## 对象
万物皆对象

## 类
抽象对象而成

1. 实体类
数据相关

2. 边界类
负责与外界通信

3. 控制类
类与类之间的衔接

## 抽象

## 封装
比如对象，封装多个属性，必须通过方法来操作

## 继承与泛化

* 泛化
共性部分，抽出来形成父类

## 多态
子类与父类的继承关系，访问同个方法，产生不同效果

## 接口

## 消息
对象之间的交互

## 组件
构件

## 模式与复用
模式是一种经验，进而复用

# 设计原则
![[Pasted image 20220427211346.png]]
### 单一职责原则
设计目的单一的类

每个类只负责一个事情，避免多个事情，造成其他类都依赖该类，导致紧耦合

### 开放-封闭原则
对扩展开放、对修改封闭

比如多了个功能，跟某个类相似，那么为了避免影响目前功能，可继承该类，新开方法写新逻辑

### 李式（Liskov）替换原则
[PickRecalled](https://www.cnblogs.com/pickrecalled/)

* **子类替换父类**
意思是说子类跟父类要相似。
比如父类的方法，子类尽量不要去重写，可以重载，但入参和返参的严格程度要大于父类。

> 如果一个子类，大量重写方法，那么完全没必要继承，因为外界看，其实是两个不同的类，这时可以使用组合等同级方式；或再抽象出一个最基础父类，都去继承他

# UML
![[Pasted image 20220427211502.png]]

 [万字多图|UML入门指南](https://www.baidu.com/link?url=yhGvxDkSe0utlDiFF0fkh27q5XDQ-GfkUYmVFwYe-ShSlmkukUFEUhlSXkcP5KPXtTjS3gdZN9_83Ap_bYiOMzxSa_MwTZJhVFXUJ19W79W&wd=&eqid=ad109381000295dd0000000662694251)
[产品经理的思考利器UML](https://www.baidu.com/link?url=Db4-kESutMQPDEvAuesFJpsrq6Cs750karOzrnPPwoQ31rgTuz4XQiLGnHGA0tCtqOJZ9TuEacpHPEj6FRwYPVd6gvCwXhTIn_ayanhN_VK&wd=&eqid=ad109381000295dd0000000662694251)

# 设计模式
## 概念
![[Pasted image 20220427212914.png]]

* **架构模式**
高层决策：从全局看待问题、分析问题，得出的结论

* **设计模式**
局部问题，与语言无关
比如工厂方法

* **惯用法**
跟语言有关


## 分类
[[重点]] 
![[Pasted image 20220427213836.png]]

### 创建型模式
创建对象

[[重点]]
| 模式         | 描述                                                                                              |
| ------------ | ------------------------------------------------------------------------------------------------- |
| 抽象工厂模式 | 无须指定具体哪个类，指定类型名，就可以该类型的对象                                                |
| 构建器模式   | 复杂类的对象，由多个对象组合                                                                      |
| 工厂方法模式 |                                                                                                   |
| 原型模式     | 也叫克隆模型，拷贝原有的原型对象，生成一个对象；为何不直接new，因为效率高（直接拷贝内存空间即可） |
| 单例模式     |                                                                                                   |

![[Pasted image 20220427215342.png]]


### 结构型模式
![[Pasted image 20220427220951.png]]

#### 适配器模式
将一个类或对象的接口，转换成客户希望的另一个接口，使得原本由于接口不兼容而不能一起工作的那些类可以一起工作，**即是类结构模式，也是对象结构模式**

**2022年4月27日 21:55:14 类似于我现在公司的适配器系统**
厂商调用我们的webservice接口，因为使用的语言不同，技术能力不同，导致无法保证消息统一可达。因此要有一致的应用，可用适配器模式

#### 桥接模式
抽象部分与实现部分分离，各自独立的变化

#### 组合模式
部分与整体的树形结构，将一个对象作为属性，放到另一个对象三种

#### 装饰模式
是一层层包裹，随意组合包裹 ；不影响对象的情况下，动态透明的方式给单个对象添加职责

#### 外观模式
在一堆子接口中，再抽象出一个基础接口，供外部方便调用

比如我们的一个消息要推送给八个厂商的接口，如果没有中间平台帮助，我们要一个个发送，有了中间平台（比如ESB总线：Orion），抽象了client通信节点，我们直接连线就可完成发送

### 行为型模式
| 类型       | 描述                                                   |
| ---------- | ------------------------------------------------------ |
| 职责链模式 | 自己处理，就传递给下一个，直到可以处理（比如发票报销） |
| 命令模式   |                                                        |
| 解释器模式 | 构造虚拟机，处理问题                                   |
| 迭代器模式 |                                                        |
| 中介者模式 | 中间件，作为交互的桥梁，低耦合的方式，比如ESB总线：Orion                                 |
| 访问者模式           | 对一个对象下的多个类对象进行各自的操作，而不影响他们的所属类                                                       |

![[Pasted image 20220427233053.png]]

![[Pasted image 20220427233057.png]]

#### 中介者模式
中介者对象封装了一系列的对象交互

1. 使得各对象之间的交互，无须显式调用
2. 可独立改变他们之间的交互方式
3. 可复用多个对象，解决复杂的通信，使得依赖关系不混乱

##### 应用场景

后端数据模型，被多个前端用户界面连接

#### 访问者模式
一个对象包含很多类对象，这些类对象，都有accept方法（实现而来），其入参为visitor对象。分别调用这些类对象的accept方法，产生不同的行为

比如Client对象操作Shopping_Cart，往里面添加许多商品Item；结算时，将每个Item的价格累加起来
 ![[Pasted image 20220515211150.png]]
 