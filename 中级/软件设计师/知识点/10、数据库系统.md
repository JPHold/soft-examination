[TOC]

[[重点]]
> 上午的综合分析题、下午的案例分析或论文，都会考

# 数据库模式
> 数据库其实是文件系统

## 三级模式-两级映射
| 模式     | 定义                                         |
| -------- | -------------------------------------------- |
| 内模式   | 与物理数据库交互，用什么格式存储、如何优化等 |
| 概念模式 | 用表包含数据，表之间有关联                   |
| 外模式   | 视图，灵活控制数据                           |

![[数据库系统-三级模式-两级映射]]

> 概念模式与内模式的映射：具体化出表结构，通过表结构，影响存储方式和优化方式
> 外模式与概念模式的映射：具体化出视图，通过视图，修改与表数据的映射


# ER模型
## 数据库设计过程
![[数据库系统-数据库设计过程]]

## ER模型设计
![[Pasted image 20220326151758.png]]
1. 方形代表实体
2. 圆形代表属性
3. 菱形代表联系

### 集成合并
* **集成方法**
1. 多个局部E-R图一次集成
2. 逐步集成，累加方式一次集成两个局部E-R

* **解决合并冲突**
1. 属性冲突
属性域冲突和属性取值冲突
比如性别，一个E-R模模型是0、1表示，另一个是P、F表示

2. 命名冲突
同名异义和异名同义
比如同个字段名却不同意思、不同字段名却同个意思

3. 结构冲突
同个对象在不同应用中具有不同的抽象；
同一实体在不同局部E-R图中所包含的属性个数和属性排列次序不完全相同；

比如一个E-R模型中教师是个字段，另一个却是一个实体；
两个E-R模型对教师的定义不同：有个有家庭成员字段，另一个没有

## ER模型转关系模式
* **一个实体型转换为一个关系模式**
1. 1对1联系
两个实体，为2个关系，联系可以放在这两个之间，也可以另起一个关系，所以至少两个，最大是三个

2. 1对n联系
两个实体，为2个关系，因为关系不能放在1那边，只能放在n这边，也可以另起一个关系，所以至少两个，最大是三个

3. m对n联系
三个实体，为3个关系，关系只能另起，所以为4个

* **三个以上实体间的一个多元联系**

> 在数据库逻辑结构的设计中，将E-R模型转换为关系模型应遵循相关原则。对于三个不同实体集和它们之间的多对多联系m: n: p，最少可转换为___个关系模式。
![[Pasted image 20220327200935.png]]
A. 2    B. 3    C. 4    D. 5

**解题**
A、B、C各一个，中间的联系，所以答案：4个

# 关系代数与元组演算
[重点]选择题
## 并集
相同的数据，只保留一个，然后合并在一起

## 交集
只保留相同的数据

## 差集
以某个数据集为准，他有的，而其它数据集没有的数据

## 笛卡尔积
`S1 X S2`
数据集S1的每条数据，都要跟数据集S2的所有数据进行组合

## 投影
> 选列，选择想要的列


## 选择
> 选行，选择想要的某行数据



# 规范化理论

# 并发控制

# 数据库完整性约束

# 分布式数据库

# 数据仓库与数据挖掘
